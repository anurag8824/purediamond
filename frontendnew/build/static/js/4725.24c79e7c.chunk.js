"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[4725],{14725:(e,s,r)=>{r.r(s),r.d(s,{default:()=>N});var a=r(84919),l=r(9950),d=r(9449),i=r(94635),n=r(39564),t=r(28674),o=r(80387),c=r(60666),m=r(26473),p=r(27232),u=(r(47705),r(28429)),h=r(3170),x=r(88306),j=r(44414);const v=c.Ik().shape({username:c.Yj().trim("User name cannot include leading and trailing spaces").strict(!0).required("Username is required").matches(/^[A-Z][a-z0-9_-]{3,19}$/,"Must Contain One Uppercase"),password:c.Yj().required("Password is required").min(8,"Password must be at least 8 characters").matches(/^(?=[^a-z]*[a-z])(?=[^A-Z]*[A-Z])(?=\D*\d)[A-Za-z0-9]{8,32}$/,"contains at least one digit,one upper case,one lower case alphabet,"),passwordConfirmation:c.Yj().required("Confirm password is required").oneOf([c.KR("password")],"Passwords must match"),role:c.Yj().required("Role is required")}),N=()=>{var e,s,r,c,N,b,f,g,y;const w=(0,t.G)(o.Qg),[A,P]=l.useState(),[_,C]=l.useState(!1),[O,I]=l.useState(!1),R=(0,t.G)(h.rt),{username:S}=(0,u.g)(),{register:V,handleSubmit:B,reset:F,getValues:L,setValue:U,formState:{errors:q}}=(0,d.mN)({resolver:(0,m.t)(v)});l.useEffect((()=>{S&&n.A.getUserDetail(S).then((e=>{P(e.data.data)}))}),[S]);const k=B((e=>{if(e.role!==i.T.user){const s=[10,20,30],r={};console.log("partenershipValue:",s),s.forEach(((e,s)=>{void 0!==e&&(r[s]=e)}));const a={},l=Array.isArray(e.minbet)?e.minbet:Object.values(e.minbet||{}),d=Array.isArray(e.maxbet)?e.maxbet:Object.values(e.maxbet||{}),i=Array.isArray(e.delay)?e.delay:Object.values(e.delay||{});console.log("minBetValue:",l),console.log("maxBetValue:",d),console.log("delayValue:",i),l.forEach(((e,s)=>{void 0!==e&&(a[s]={minBet:e})})),d.forEach(((e,s)=>{void 0!==e&&(a[s]=Object.assign(a[s]||{},{maxBet:e}))})),i.forEach(((e,s)=>{void 0!==e&&(a[s]=Object.assign(a[s]||{},{delay:e}))})),e.userSetting=a}e.parent=null===M||void 0===M?void 0:M.username,delete e.maxbet,delete e.minbet,delete e.delay,delete e.partnershipOur,n.A.addUser(e).then((()=>{p.oR.success("User successfully created"),F()})).catch((e=>{const s=e.response.data.message;p.oR.error(s)}))})),M=A||(null===w||void 0===w?void 0:w.user);return(0,j.jsx)("div",{className:"container-fluid add-user-page",children:(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col-md-12 main-container",children:(0,j.jsx)("div",{className:"add-user-card",children:(0,j.jsx)("div",{className:"add-account",children:(0,j.jsxs)("form",{onSubmit:k,children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"col-md-6 personal-detail",children:[(0,j.jsx)("h4",{className:"m-b-20 col-md-12",children:"Personal Detail"}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-md-6",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"username",children:"Client Name:"}),(0,j.jsx)("input",(0,a.A)((0,a.A)({placeholder:"Client Name",id:"username"},V("username")),{},{defaultValue:"",type:"text",className:"form-control"})),(0,j.jsx)("span",{id:"username-error",className:"error",style:{display:"none"},children:"Username already taken"}),(null===q||void 0===q?void 0:q.username)&&(0,j.jsx)("span",{id:"username-required",className:"error",children:q.username.message})]})}),(0,j.jsx)("div",{className:"col-md-6",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"password",children:"User password:"}),(0,j.jsx)("input",(0,a.A)((0,a.A)({maxLength:45,placeholder:"Password",id:"password"},V("password")),{},{type:"password",className:"form-control"})),(null===q||void 0===q?void 0:q.password)&&(0,j.jsx)("span",{id:"password-error",className:"error",children:q.password.message})]})}),(0,j.jsx)("div",{className:"col-md-6",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"password_confirmation",children:"Retype password:"}),(0,j.jsx)("input",(0,a.A)((0,a.A)({maxLength:45,placeholder:"Retype Password",id:"password_confirmation"},V("passwordConfirmation")),{},{type:"password",className:"form-control"})),(null===q||void 0===q?void 0:q.passwordConfirmation)&&(0,j.jsx)("span",{id:"password_confirmation-error",className:"error",children:q.passwordConfirmation.message})]})}),!O&&(0,j.jsx)("div",{className:"col-md-6",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"fullname",children:"Full Name:"}),(0,j.jsx)("input",(0,a.A)((0,a.A)({placeholder:"Full Name"},V("fullname")),{},{id:"fullname",defaultValue:"",type:"text",className:"form-control"})),(null===q||void 0===q?void 0:q.fullname)&&(0,j.jsx)("span",{id:"fullname-error",className:"error",children:q.fullname.message})]})}),!O&&(0,j.jsx)("div",{className:"col-md-6",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"city",children:"City:"}),(0,j.jsx)("input",(0,a.A)((0,a.A)({maxLength:15,placeholder:"City"},V("city")),{},{id:"city",defaultValue:"",type:"text",className:"form-control"})),(null===q||void 0===q?void 0:q.city)&&(0,j.jsx)("span",{id:"city-error",className:"error",children:q.city.message})]})}),!O&&(0,j.jsx)("div",{className:"col-md-6",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"phone",children:"Phone. no:"}),(0,j.jsx)("input",(0,a.A)((0,a.A)({maxLength:10,placeholder:"Phone"},V("phone")),{},{id:"phone",type:"number",className:"form-control"})),(null===q||void 0===q?void 0:q.phone)&&(0,j.jsx)("span",{id:"phone-error",className:"error",children:q.phone.message})]})})]})]}),(0,j.jsxs)("div",{className:"col-md-6 account-detail",children:[(0,j.jsx)("h4",{className:"m-b-20 col-md-12",children:"Account Detail"}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-md-6",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"role",children:"Account Type:"}),(0,j.jsxs)("select",(0,a.A)((0,a.A)({},V("role",{onChange:e=>{e.target.value==i.T.user?C(!0):C(!1),e.target.value==i.T.user?I(!0):I(!1)}})),{},{id:"role",className:"form-control",children:[(0,j.jsx)("option",{value:"",children:"- Select Your Account Type -"}),(()=>{const e=M.role,s=JSON.parse(JSON.stringify(i.w));delete s.admin;const r=s;if(e&&"admin"!=e){const s=Object.keys(r),a=s.indexOf(e);return s.slice(a+1).map(((s,a)=>!(+e>=++a)&&(0,j.jsx)("option",{value:s,children:r[s]},a)))}return Object.keys(r).map(((e,s)=>(0,j.jsx)("option",{value:e,children:r[e]},s)))})()]})),(null===q||void 0===q?void 0:q.role)&&(0,j.jsx)("span",{id:"role-error",className:"error",children:q.role.message})]})}),!O&&(0,j.jsx)("div",{className:"col-md-6",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{htmlFor:"creditrefrence",children:"Credit Reference:"}),(0,j.jsx)("input",(0,a.A)((0,a.A)({className:"form-control",placeholder:"Credit Reference"},V("creditRefrences")),{},{id:"creditRefrences",defaultValue:0,min:"0",type:"number"})),(null===q||void 0===q?void 0:q.creditRefrences)&&(0,j.jsx)("span",{id:"creditrefrence-error",className:"error",children:q.creditRefrences.message})]})}),!O&&(0,j.jsx)("div",{className:"col-md-6",children:(0,j.jsxs)("div",{className:"form-group",id:"exposer-limit",children:[(0,j.jsx)("label",{htmlFor:"exposerLimit",children:"Exposer Limit:"}),(0,j.jsx)("input",(0,a.A)((0,a.A)({placeholder:"Exposer Limit",id:"exposerLimit"},V("exposerLimit")),{},{defaultValue:0,type:"number",className:"form-control",min:"0"})),(null===q||void 0===q?void 0:q.exposerLimit)&&(0,j.jsx)("span",{id:"exposerlimit-error",className:"error",children:q.exposerLimit.message})]})})]})]})]}),!O&&(0,j.jsx)("div",{className:"row m-t-20",id:"partnership-div",children:(0,j.jsxs)("div",{className:"col-md-12",children:[(0,j.jsx)("h4",{className:"m-b-20 col-md-12",children:"Partnership"}),(0,j.jsxs)("table",{className:"table table-striped table-bordered",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{}),R.sports.map((e=>1===e.sportId||2===e.sportId||4===e.sportId?(0,j.jsx)("th",{children:e.name},e._id):(0,j.jsx)("th",{},e._id)))]})}),(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Upline"}),R.sports.map((e=>{var s;let{_id:r,sportId:a}=e;return 1==a||2==a||4==a?(0,j.jsx)("td",{id:"taxpartnership-upline",children:null===M||void 0===M||null===(s=M.partnership)||void 0===s?void 0:s[a].ownRatio},"upline-".concat(r)):(0,j.jsx)("td",{},r)}))]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Downline"}),null===(e=R.sports)||void 0===e?void 0:e.map((e=>{var s;let{_id:r,sportId:l}=e;return 1==l||2==l||4==l?(0,j.jsxs)("td",{children:[(0,j.jsx)("input",(0,a.A)((0,a.A)({className:"partnership"},V("partnership.".concat(l),{onChange:e=>{var s;const r=null===(s=M.partnership)||void 0===s?void 0:s[l].ownRatio;U("partnershipOur.".concat(l),r?r-e.target.value:L("partnershipOur.".concat(l)))}})),{},{id:"partnership.".concat(l),placeholder:"",max:null===M||void 0===M||null===(s=M.partnership)||void 0===s?void 0:s[l].ownRatio,min:"0",defaultValue:0,type:"number",disabled:_})),(0,j.jsx)("span",{className:"error"})]},r):(0,j.jsx)("td",{},r)}))]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Our"}),null===(s=R.sports)||void 0===s?void 0:s.map((e=>{var s;let{_id:r,sportId:l}=e;return 1==l||2==l||4==l?(0,j.jsx)("td",{id:"taxpartnership-our.".concat(l),children:(0,j.jsx)("input",(0,a.A)((0,a.A)({},V("partnershipOur.".concat(l))),{},{value:null===M||void 0===M||null===(s=M.partnership)||void 0===s?void 0:s[l].ownRatio,disabled:!0}))},r):(0,j.jsx)("td",{},r)}))]})]})]})]})}),!O&&(0,j.jsx)("div",{className:"row m-t-20",id:"min-max-bet-div",children:(0,j.jsxs)("div",{className:"col-md-12",children:[(0,j.jsx)("h4",{className:"m-b-20 col-md-12",children:"Min Max Bet"}),(0,j.jsxs)("table",{className:"table table-striped table-bordered",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{}),null===(r=R.sports)||void 0===r?void 0:r.map((e=>1===e.sportId||2===e.sportId||4===e.sportId?(0,j.jsx)("th",{children:e.name},e._id):(0,j.jsx)("th",{},e._id)))]})}),(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Min Bet"}),null===(c=R.sports)||void 0===c?void 0:c.map((e=>{var s;let{_id:r,sportId:a}=e;return 1==a||2==a||4==a?(0,j.jsx)("td",{id:"minbet",children:null===M||void 0===M||null===(s=M.userSetting)||void 0===s?void 0:s[a].minBet},r):(0,j.jsx)("td",{},r)}))]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Provide Min Bet"}),null===(N=R.sports)||void 0===N?void 0:N.map((e=>{var s;let{_id:r,sportId:l}=e;return 1==l||2==l||4==l?(0,j.jsxs)("td",{children:[(0,j.jsx)("input",(0,a.A)((0,a.A)({id:"minbet.".concat(l),className:"minbet.".concat(l)},V("minbet.".concat(l))),{},{placeholder:"",max:null===M||void 0===M||null===(s=M.userSetting)||void 0===s?void 0:s[l].minBet,min:0,defaultValue:0,disabled:_,type:"number"})),(0,j.jsx)("span",{className:"error"})]},r):(0,j.jsx)("td",{},r)}))]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Max Bet"}),null===(b=R.sports)||void 0===b?void 0:b.map((e=>{var s;let{_id:r,sportId:a}=e;return 1==a||2==a||4==a?(0,j.jsx)("td",{id:"maxbet",children:null===M||void 0===M||null===(s=M.userSetting)||void 0===s?void 0:s[a].maxBet},r):(0,j.jsx)("td",{},r)}))]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Provide Min Bet"}),null===(f=R.sports)||void 0===f?void 0:f.map((e=>{var s;let{_id:r,sportId:l}=e;return 1==l||2==l||4==l?(0,j.jsxs)("td",{children:[(0,j.jsx)("input",(0,a.A)((0,a.A)({id:"maxbet.".concat(l),className:"maxbet.".concat(l)},V("maxbet.".concat(l))),{},{placeholder:"",max:null===M||void 0===M||null===(s=M.userSetting)||void 0===s?void 0:s[l].maxBet,defaultValue:0,disabled:_,min:0,type:"number"})),(0,j.jsx)("span",{className:"error"})]},r):(0,j.jsx)("td",{},r)}))]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Delay"}),null===(g=R.sports)||void 0===g?void 0:g.map((e=>{var s;let{_id:r,sportId:a}=e;return 1==a||2==a||4==a?(0,j.jsx)("td",{id:"delay",children:null===M||void 0===M||null===(s=M.userSetting)||void 0===s?void 0:s[a].delay},r):(0,j.jsx)("td",{},r)}))]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Provide Delay"}),null===(y=R.sports)||void 0===y?void 0:y.map((e=>{var s;let{_id:r,sportId:l}=e;return 1==l||2==l||4==l?(0,j.jsxs)("td",{children:[(0,j.jsx)("input",(0,a.A)((0,a.A)({id:"delay.".concat(l),className:"delay.".concat(l)},V("delay.".concat(l))),{},{placeholder:"",max:null===M||void 0===M||null===(s=M.userSetting)||void 0===s?void 0:s[l].delay,defaultValue:0,disabled:_,type:"number"})),(0,j.jsx)("span",{className:"error"})]},r):(0,j.jsx)("td",{},r)}))]})]})]})]})}),!O&&(0,j.jsx)("div",{className:"row m-t-20",children:(0,j.jsx)("div",{className:"col-md-12",children:(0,j.jsxs)("div",{className:"form-group col-md-3 float-right",children:[(0,j.jsx)("label",{htmlFor:"transactionPassword",children:"Transaction Password:"}),(0,j.jsx)("input",(0,a.A)((0,a.A)({maxLength:15,placeholder:"Transaction Password"},V("transactionPassword")),{},{defaultValue:"",id:"transactionPassword",type:"password",className:"form-control"})),(null===q||void 0===q?void 0:q.transactionPassword)&&(0,j.jsx)("span",{id:"transactionPassword-error",className:"error",children:q.transactionPassword.message})]})})}),(0,j.jsx)("div",{className:"row m-t-20",children:(0,j.jsx)("div",{className:"col-md-12",children:(0,j.jsx)("div",{className:"float-right",children:(0,j.jsx)(x.A,{className:"btn btn-submit",type:"submit",children:"Create User"})})})})]})})})})})})}},88306:(e,s,r)=>{r.d(s,{A:()=>o});var a=r(84919),l=r(79222),d=(r(9950),r(96487)),i=r(28674),n=r(44414);const t=["children"],o=e=>{const{children:s}=e,r=(0,l.A)(e,t),o=(0,i.G)(d.Mm);return(0,n.jsx)("button",(0,a.A)((0,a.A)({disabled:o},r),{},{children:s}))}}}]);