(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[2893],{20381:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(9950),r=s(72509),n=s.n(r),l=s(44414);const c=(0,a.forwardRef)(((e,t)=>{let{onSuggestionsFetchRequested:s,onSelectUser:r,placeHolder:c,onSuggestionsClear:d}=e;const[o,i]=a.useState(""),[u,h]=a.useState([]),p={placeholder:c||"Search User",value:o,onChange:(e,t)=>{let{newValue:s}=t;i(s)}};return(0,a.useImperativeHandle)(t,(()=>({resetValue(){i(""),h([])}})),[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n(),{suggestions:u,onSuggestionsFetchRequested:e=>{let{value:t}=e;i(t),s({value:t}).then((e=>{h(e.data.data)}))},onSuggestionsClearRequested:()=>{},getSuggestionValue:e=>(r(e),e.username),renderSuggestion:e=>(0,l.jsx)("div",{className:"dropdown-item",children:e.username}),inputProps:p,theme:{suggestionsList:"dropdown-menu show",input:"mx-input",suggestionsContainer:"dropdown"}})})}))},62066:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(84919),r=s(9950),n=s(27232),l=s(39564),c=s(59051),d=s.n(c),o=s(20381),i=s(28674),u=s(3170),h=s(18538),p=s(2318),m=s(44137),x=s(28429),j=s(94635),g=s(80387),v=(s(74064),s(12995)),f=s(44414);const b=e=>{var t;let{hideHeader:s,matchId:c}=e;const[b,N]=r.useState({}),y=(0,x.g)(),[w,A]=r.useState({status:"pending",type:y.type,matchId:c}),S=(0,i.G)(u.rt),[C,D]=r.useState(1),[k,R]=r.useState(!1),[T,Y]=r.useState(!1),_=(0,i.G)(g.Qg),{socketUser:I}=(0,m.E$)(),P=r.useRef(null);r.useEffect((()=>{const e=w;c||(e.startDate=d()().subtract(7,"days").format("YYYY-MM-DD"),e.endDate=d()().format("YYYY-MM-DD")),A(e),E(C)}),[]),r.useEffect((()=>{const e=w;c||(e.startDate=d()().subtract(7,"days").format("YYYY-MM-DD"),e.endDate=d()().format("YYYY-MM-DD")),e.type=y.type,A(e),E(C)}),[y.type]),r.useEffect((()=>{k&&(E(1),R(!1))}),[k]);const E=e=>{l.A.getUsercompletedbets(e,w).then((t=>{t&&t.data&&t.data.data&&N(t.data.data),D(e)})).catch((e=>{const t=e.response.data.message;n.oR.error(t)}))},F=e=>{A((0,a.A)((0,a.A)({},w),{},{[e.target.name]:e.target.value}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(v.A,{}),(0,f.jsx)("div",{style:{paddingTop:"20px"},children:(0,f.jsx)("div",{className:"container-fluid report-page",children:(0,f.jsx)("div",{className:"row",children:(0,f.jsxs)("div",{className:"col-md-12",children:[(0,f.jsx)("div",{className:"report-filters",children:(0,f.jsx)("form",{onSubmit:e=>{e.preventDefault(),R(!0)},children:(0,f.jsxs)("div",{className:"report-filters-row",children:[(0,f.jsxs)("div",{className:"report-filter-group",children:[(0,f.jsx)("label",{children:"User"}),(0,f.jsx)(o.A,{onSuggestionsFetchRequested:e=>{let{value:t}=e;return l.A.getUserListSuggestion({username:t})},onSelectUser:e=>{A((0,a.A)((0,a.A)({},w),{},{userId:e._id}))},ref:P})]}),(0,f.jsxs)("div",{className:"report-filter-group",children:[(0,f.jsx)("label",{children:"Search By Name"}),(0,f.jsx)("input",{type:"text",name:"name",onChange:F,placeholder:"Search By Name"})]}),(0,f.jsxs)("div",{className:"report-filter-group",children:[(0,f.jsx)("label",{children:"Sport"}),(0,f.jsxs)("select",{name:"reportType",onChange:F,children:[(0,f.jsx)("option",{value:"",children:"Select Sport"}),S.sports.map((e=>(0,f.jsx)("option",{value:e.sportId,children:e.name},e.sportId)))]})]}),(0,f.jsxs)("div",{className:"report-filter-group",children:[(0,f.jsx)("label",{children:"Start Date"}),(0,f.jsx)("input",{name:"startDate",type:"datetime-local",autoComplete:"off",onChange:F,defaultValue:w.startDate})]}),(0,f.jsxs)("div",{className:"report-filter-group",children:[(0,f.jsx)("label",{children:"End Date"}),(0,f.jsx)("input",{name:"endDate",type:"datetime-local",autoComplete:"off",defaultValue:w.endDate,onChange:F})]}),(0,f.jsx)("button",{type:"submit",className:"report-search-btn",children:"Search"}),(0,f.jsx)("button",{type:"button",onClick:()=>{P.current.resetValue(),A({status:"pending"}),R(!0)},className:"report-reset-btn",children:"Reset"}),(null===_||void 0===_||null===(t=_.user)||void 0===t?void 0:t.role)===j.T.admin&&(0,f.jsx)("button",{type:"button",onClick:()=>{const e=b.docs.reduce(((e,t)=>(t.selected&&(e=!0),e)),!1);if(T||e){const e=b.docs.filter((e=>e.selected)).map((e=>e._id));e.length>0&&h.A.deleteBets({ids:e}).then((e=>{e.data.data.success&&(N((0,a.A)((0,a.A)({},b),{},{docs:b.docs.filter((e=>!e.selected))})),Y(!1),n.oR.success(e.data.message))}))}else n.oR.error("Please select one item")},className:"report-delete-btn",children:"Delete"})]})})}),(0,f.jsx)("div",{className:"report-table-wrapper",children:(0,f.jsx)(p.A,{bethistory:b,handlePageClick:e=>{E(e.selected+1)},onTrash:(e,t)=>{if(e.preventDefault(),!t._id)return void n.oR.error("Invalid bet data. Unable to delete.");window.confirm("Are you sure you want to delete?")&&h.A.deleteCurrentBet(t._id).then((e=>{const{success:s,message:r}=e.data.data;s?(I.emit("betDelete",{betId:t._id,userId:t.userId}),n.oR.success(r),N((e=>(0,a.A)((0,a.A)({},e),{},{docs:e.docs.filter((e=>{let{_id:s}=e;return s!==t._id}))})))):n.oR.error("Failed to delete bet.")})).catch((e=>{console.error("Error deleting bet:",e),n.oR.error("An error occurred while deleting the bet.")}))},page:C,isTrash:!0,handleSelectAll:()=>{Y(!T);const e=b.docs.map((e=>(0,a.A)((0,a.A)({},e),{},{selected:!T})));N((0,a.A)((0,a.A)({},b),{},{docs:e}))},selectAll:T,handleSelectItem:e=>{const t=b.docs.map((t=>t===e?(0,a.A)((0,a.A)({},t),{},{selected:!t.selected}):t));N((0,a.A)((0,a.A)({},b),{},{docs:t}))}})})]})})})})]})}},2318:(e,t,s)=>{"use strict";s.d(t,{A:()=>p});var a=s(59051),r=s.n(a),n=s(99198),l=s.n(n),c=s(94635),d=s(80387),o=s(28674),i=s(54088),u=(s(74064),s(44414));const h=e=>{var t;return""!=e?(null===(t=i.a.SPORT_NAME.filter((t=>t.id==e))[0])||void 0===t?void 0:t.name)||"Casino":""},p=e=>{var t;let{bethistory:s,onTrash:a,handlePageClick:n,isTrash:i,handleSelectAll:p,selectAll:m,handleSelectItem:x}=e;const j=(0,o.G)(d.Qg),g=s&&s.docs&&s.docs.length?s.docs.map(((e,t)=>((e,t)=>{var s,n,l,d;const o=e.isBack?"back":"lay";return(0,u.jsxs)("tr",{className:o,children:[p&&(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",checked:e.selected||!1,onChange:()=>null===x||void 0===x?void 0:x(e)})}),(null===j||void 0===j||null===(s=j.user)||void 0===s?void 0:s.role)!==c.T.user&&(0,u.jsx)("td",{className:"text-center wnwrap",children:e.parentNameStr}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.userName}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.matchName}),(0,u.jsxs)("td",{className:"text-center wnwrap",children:[e.selectionName," /"," ","Fancy"===e.marketName&&"fancy1"!==e.gtype?e.volume:e.odds," "]}),(0,u.jsx)("td",{className:"text-center wnwrap",children:h(e.sportId)}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.marketName}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.odds}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.stack}),(0,u.jsx)("td",{className:"text-center wnwrap",children:"completed"==e.status?null===e||void 0===e||null===(n=e.profitLoss)||void 0===n?void 0:n.toFixed(2):null===(l=e.pnl)||void 0===l?void 0:l.toFixed(2)}),(0,u.jsx)("td",{className:"text-center wnwrap",children:e.createdAt&&r()(null===e||void 0===e?void 0:e.createdAt).format("YYYY-MM-DD HH:mm:ss")}),i&&(0,u.jsx)("td",{className:"text-center wnwrap",children:"pending"==e.status&&(null===j||void 0===j||null===(d=j.user)||void 0===d?void 0:d.role)===c.T.admin&&(0,u.jsx)("a",{onClick:t=>a&&a(t,e),href:"#",children:(0,u.jsx)("i",{className:"fa fa-trash"})})})]},t)})(e,t))):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:11,style:{textAlign:"center"},children:"No Result Found"})});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("table",{className:"report-table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[p&&(0,u.jsx)("th",{children:(0,u.jsx)("input",{type:"checkbox",className:"report-checkbox",checked:m||!1,onChange:p})}),(null===j||void 0===j||null===(t=j.user)||void 0===t?void 0:t.role)!==c.T.user&&(0,u.jsx)("th",{children:"Uplevel"}),(0,u.jsx)("th",{children:"User Name"}),(0,u.jsx)("th",{children:"Event Name"}),(0,u.jsx)("th",{children:"Nation"}),(0,u.jsx)("th",{children:"Event Type"}),(0,u.jsx)("th",{children:"Type"}),(0,u.jsx)("th",{children:"Rate"}),(0,u.jsx)("th",{children:"Amount"}),(0,u.jsx)("th",{children:"P/L"}),(0,u.jsx)("th",{children:"Place Date"}),i&&(0,u.jsx)("th",{children:"Action"})]})}),(0,u.jsx)("tbody",{children:g})]}),(0,u.jsx)(l(),{breakLabel:"...",nextLabel:">>",onPageChange:n,pageRangeDisplayed:5,pageCount:s.totalPages||0,containerClassName:"pagination",activeClassName:"active",previousLabel:"<<",breakClassName:"break-me"})]})}},12995:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});s(9950);var a=s(44414);const r=()=>{const e="\ud83c\udfcf \ud835\udc13\ud835\udc07\ud835\udc04 \ud835\udc00\ud835\udc12\ud835\udc07\ud835\udc04\ud835\udc12 \ud835\udc12\ud835\udc0f\ud835\udc04\ud835\udc02\ud835\udc08\ud835\udc00\ud835\udc0b \ud835\udc04\ud835\udc15\ud835\udc04\ud835\udc0d\ud835\udc13 \ud835\udc01\ud835\udc04\ud835\udc13\ud835\udc12 \ud835\udc12\ud835\udc13\ud835\udc00\ud835\udc11\ud835\udc13\ud835\udc04\ud835\udc03 \ud83c\udfc6 \ud835\udc16\ud835\udc01\ud835\udc01\ud835\udc0b \ud835\udfd0\ud835\udfce\ud835\udfd0\ud835\udfd3 \ud83c\udfc6 \ud835\udc12\ud835\udc0f\ud835\udc04\ud835\udc02\ud835\udc08\ud835\udc00\ud835\udc0b \ud835\udc05\ud835\udc00\ud835\udc0d\ud835\udc02\ud835\udc18 & \ud835\udc02\ud835\udc14\ud835\udc0f \ud835\udc16\ud835\udc08\ud835\udc0d\ud835\udc0d\ud835\udc04\ud835\udc11 \ud835\udc01\ud835\udc04\ud835\udc13\ud835\udc12 \ud835\udc12\ud835\udc13\ud835\udc00\ud835\udc11\ud835\udc13\ud835\udc04\ud835\udc03 \ud83c\udfcf \ud835\udc0f\ud835\udc0b\ud835\udc00\ud835\udc18 \ud835\udc13\ud835\udc07\ud835\udc04 \ud835\udc06\ud835\udc04\ud835\udc0d\ud835\udc08\ud835\udc04 \ud835\udc02\ud835\udc0e\ud835\udc0c\ud835\udc01\ud835\udc0e \ud835\udc12\ud835\udc0f\ud835\udc04\ud835\udc02\ud835\udc08\ud835\udc00\ud835\udc0b \ud835\udc01\ud835\udc04\ud835\udc13 \ud835\udc08\ud835\udc0d \ud835\udc0e\ud835\udc14\ud835\udc11 \ud835\udc04\ud835\udc17\ud835\udc02\ud835\udc07\ud835\udc00\ud835\udc0d\ud835\udc06\ud835\udc04 \ud835\udc00\ud835\udc0d\ud835\udc03 \ud835\udc0c\ud835\udc14\ud835\udc0b\ud835\udc13\ud835\udc08\ud835\udc0f\ud835\udc0b\ud835\udc18 \ud835\udc18\ud835\udc0e\ud835\udc14\ud835\udc11 \ud835\udc16\ud835\udc08\ud835\udc0d\ud835\udc0d\ud835\udc08\ud835\udc0d\ud835\udc06\ud835\udc12";return(0,a.jsx)("div",{className:"marquee-announcement",children:(0,a.jsxs)("div",{className:"marquee-content",children:[(0,a.jsx)("span",{children:e}),(0,a.jsx)("span",{children:e})]})})}},43488:(e,t,s)=>{"use strict";var a=s(93959);function r(){}function n(){}n.resetWarningCache=r,e.exports=function(){function e(e,t,s,r,n,l){if(l!==a){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:r};return s.PropTypes=s,s}},11942:(e,t,s)=>{e.exports=s(43488)()},93959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);