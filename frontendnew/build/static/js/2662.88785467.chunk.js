(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[2662],{20381:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});var t=a(9950),l=a(72509),r=a.n(l),n=a(44414);const i=(0,t.forwardRef)(((e,s)=>{let{onSuggestionsFetchRequested:a,onSelectUser:l,placeHolder:i,onSuggestionsClear:d}=e;const[o,c]=t.useState(""),[u,h]=t.useState([]),m={placeholder:i||"Search User",value:o,onChange:(e,s)=>{let{newValue:a}=s;c(a)}};return(0,t.useImperativeHandle)(s,(()=>({resetValue(){c(""),h([])}})),[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r(),{suggestions:u,onSuggestionsFetchRequested:e=>{let{value:s}=e;c(s),a({value:s}).then((e=>{h(e.data.data)}))},onSuggestionsClearRequested:()=>{},getSuggestionValue:e=>(l(e),e.username),renderSuggestion:e=>(0,n.jsx)("div",{className:"dropdown-item",children:e.username}),inputProps:m,theme:{suggestionsList:"dropdown-menu show",input:"mx-input",suggestionsContainer:"dropdown"}})})}))},2753:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var t=a(84919),l=a(9950),r=a(59051),n=a.n(r),i=a(20381),d=a(39564),o=a(93784),c=a(41285),u=a(10944),h=a(27232),m=(a(74064),a(44414));const p=()=>{const[e,s]=l.useState({startDate:"",endDate:"",reportType:"",username:""}),[a,r]=(0,l.useState)([]),[p,x]=l.useState(0),[j,v]=(0,l.useState)({}),[b,g]=(0,l.useState)(!1),[N,f]=(0,l.useState)({});(0,l.useEffect)((()=>{S(1)}),[b]),l.useEffect((()=>{const a=e;a.startDate=n()().subtract(7,"days").format("YYYY-MM-DD"),a.endDate=n()().format("YYYY-MM-DD"),s(a)}),[]);const y=e=>{v(e)},S=s=>{o.A.getDepositWithdrawLists((0,t.A)({type:"withdraw"},e)).then((e=>{var s;return r(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data)}))},w=a=>{const t=e;t[a.target.name]=a.target.value,s(t)},C=async(e,s)=>{if("rejected"==s)g(!0),f(e);else{const r={id:e._id,narration:e.remark,balanceUpdateType:"W",status:s},n=await o.A.updateDepositWithdrawStatus(r);try{var a;if(null!==n&&void 0!==n&&n.data)S(1),h.oR.success(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)}catch(l){var t;h.oR.error(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)}}};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{style:{paddingTop:"20px"},children:(0,m.jsx)("div",{className:"container-fluid report-page",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"col-md-12",children:[(0,m.jsx)("div",{className:"report-filters",children:(0,m.jsx)("form",{onSubmit:e=>{e.preventDefault(),S(1)},children:(0,m.jsxs)("div",{className:"report-filters-row",children:[(0,m.jsxs)("div",{className:"report-filter-group",children:[(0,m.jsx)("label",{children:"User"}),(0,m.jsx)(i.A,{onSuggestionsFetchRequested:e=>{let{value:s}=e;return d.A.getUserListSuggestion({username:s})},onChangeSelectValue:a=>{s((0,t.A)((0,t.A)({},e),{},{username:a}))}})]}),(0,m.jsxs)("div",{className:"report-filter-group",children:[(0,m.jsx)("label",{children:"Start Date"}),(0,m.jsx)("input",{name:"startDate",type:"date",autoComplete:"off",onChange:w,defaultValue:e.startDate})]}),(0,m.jsxs)("div",{className:"report-filter-group",children:[(0,m.jsx)("label",{children:"End Date"}),(0,m.jsx)("input",{name:"endDate",type:"date",autoComplete:"off",defaultValue:e.endDate,onChange:w})]}),(0,m.jsxs)("div",{className:"report-filter-group",children:[(0,m.jsx)("label",{children:"Type"}),(0,m.jsxs)("select",{name:"reportType",onChange:w,defaultValue:e.reportType,children:[(0,m.jsx)("option",{value:"ALL",children:"All"}),(0,m.jsx)("option",{value:"approved",children:"Approved"}),(0,m.jsx)("option",{value:"pending",children:"Pending"}),(0,m.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,m.jsx)("button",{type:"submit",className:"report-search-btn",children:"Search"})]})})}),(0,m.jsx)("div",{className:"report-table-wrapper",children:(0,m.jsxs)("table",{className:"report-table",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"NO"}),(0,m.jsx)("th",{children:"DATE"}),(0,m.jsx)("th",{children:"USER"}),(0,m.jsx)("th",{children:"TYPE"}),(0,m.jsx)("th",{children:"AMOUNT"}),(0,m.jsx)("th",{children:"STATUS"}),(0,m.jsx)("th",{children:"NOTE"}),(0,m.jsx)("th",{children:"ACTION"})]})}),(0,m.jsx)("tbody",{children:a&&a.length>0?a.map(((e,s)=>{const a="approved"===e.status?"positive":"pending"===e.status?"warning":"negative";return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:s+1}),(0,m.jsx)("td",{className:"wnwrap",children:n()(e.createdAt).format("DD/MM/YYYY h:mm:ss A")}),(0,m.jsx)("td",{children:e.username}),(0,m.jsx)("td",{children:e.accountType}),(0,m.jsx)("td",{className:e.amount>=0?"positive":"negative",children:Number(e.amount).toFixed(2)}),(0,m.jsx)("td",{className:a,children:e.status}),(0,m.jsx)("td",{children:e.remark||"-"}),(0,m.jsx)("td",{children:"pending"===e.status?(0,m.jsxs)("div",{className:"pl-action-btns",children:[(0,m.jsx)("button",{type:"button",className:"btn-small",onClick:()=>C(e,"approved"),children:"Approve"}),(0,m.jsx)("button",{type:"button",className:"btn-small",onClick:()=>C(e,"rejected"),children:"Reject"}),(0,m.jsx)("button",{type:"button",className:"btn-small","data-toggle":"modal","data-target":"#bankModal",onClick:()=>y(e.bankDetail),children:"View"})]}):(0,m.jsx)("button",{type:"button",className:"btn-small","data-toggle":"modal","data-target":"#bankModal",onClick:()=>y(e.bankDetail),children:"View"})})]},e._id)})):(0,m.jsx)("tr",{children:(0,m.jsx)("td",{colSpan:8,className:"report-empty",children:"No Result Found"})})})]})}),(0,m.jsx)(c.A,{bankDetails:j}),(0,m.jsx)(u.A,{show:b,close:()=>g(!b),data:N})]})})})})})}},41285:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});a(9950);var t=a(44414);const l=e=>{let{bankDetails:s}=e;return(0,t.jsx)("div",{className:"modal fade",id:"bankModal",tabIndex:-1,role:"dialog","aria-labelledby":"bankModalCenterTitle","aria-hidden":"true",children:(0,t.jsx)("div",{className:"modal-dialog modal-lg modal-login-new",role:"document",children:(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h5",{className:"modal-title",id:"bankModalCenterTitle",children:"Details"}),(0,t.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,t.jsx)("div",{className:"modal-body",children:s.imageUrl?(0,t.jsx)("div",{className:"container-fluid",children:(0,t.jsx)("div",{className:"row m-b-20",children:(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsx)("img",{src:"".concat("http://localhost:3000/").concat(s.imageUrl),alt:"image",style:{height:"auto",width:"100%"}})})})}):(0,t.jsxs)("div",{className:"container-fluid",children:[(0,t.jsxs)("div",{className:"row m-b-20",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsx)("label",{className:"deposite-user-first",children:"Account Holder Name :"})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsx)("label",{className:"deposite-user-first",style:{textTransform:"capitalize"},children:null===s||void 0===s?void 0:s.accountHolderName})})]}),(0,t.jsxs)("div",{className:"row m-b-20",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsx)("label",{className:"deposite-user-first",children:"Account Number :"})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsx)("label",{className:"deposite-user-first",style:{textTransform:"capitalize"},children:null===s||void 0===s?void 0:s.accountNumber})})]}),(0,t.jsxs)("div",{className:"row m-b-20",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsx)("label",{className:"deposite-user-first",children:"IFSC Code :"})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsx)("label",{className:"deposite-user-first",style:{textTransform:"capitalize"},children:null===s||void 0===s?void 0:s.ifscCode})})]})]})})]})})})}},10944:(e,s,a)=>{"use strict";a.d(s,{A:()=>o});var t=a(9950),l=a(79037),r=a(93784),n=a(27232),i=a(28429),d=a(44414);const o=e=>{let{show:s,close:a,data:o}=e;const c=(0,i.zy)(),[u,h]=(0,t.useState)("");return(0,d.jsxs)(l.A,{show:s,onHide:a,children:[(0,d.jsxs)("div",{className:"modal-header",children:[(0,d.jsx)("h5",{className:"modal-title",id:"rejectedModalCenterTitle",children:"Rejected Reason"}),(0,d.jsx)("button",{type:"button",className:"close",onClick:a,children:(0,d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,d.jsx)("div",{className:"modal-body",children:(0,d.jsxs)("form",{className:"container-fluid",onSubmit:async e=>{e.preventDefault();const s={id:o._id,narration:u,balanceUpdateType:"/depositstatement"==c.pathname?"D":"W",status:"rejected"},a=await r.A.updateDepositWithdrawStatus(s);try{var t;if(null!==a&&void 0!==a&&a.data)n.oR.success(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)}catch(i){var l;n.oR.error(null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)}},children:[(0,d.jsx)("div",{className:"row m-b-20",children:(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsx)("input",{type:"text",placeholder:"Enter Message",onChange:e=>{h(e.target.value)}})})}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{type:"submit",className:"btn btn-secondary",onClick:a,children:"Submit"})})]})})]})}},43488:(e,s,a)=>{"use strict";var t=a(93959);function l(){}function r(){}r.resetWarningCache=l,e.exports=function(){function e(e,s,a,l,r,n){if(n!==t){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function s(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:l};return a.PropTypes=a,a}},11942:(e,s,a)=>{e.exports=a(43488)()},93959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);