"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[3805],{53805:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var n=s(9950),t=s(27232),l=s(39564),c=s(88306),i=s(39402),r=s(97758),d=(s(70103),s(44414));const o=()=>{const e=(0,i.Y)(),{client:a,loading:s,error:o}=(0,r.h)(),[u,h]=n.useState(""),[m,b]=n.useState(!1);return s?(0,d.jsx)("div",{className:"client-action-page",children:(0,d.jsx)("div",{className:"loading-state",children:"Loading client details..."})}):o||!a?(0,d.jsx)("div",{className:"client-action-page",children:(0,d.jsxs)("div",{className:"empty-state",children:["Unable to load requested client.",(0,d.jsx)("span",{children:o||"Please go back and try again."})]})}):(0,d.jsx)("div",{className:"client-action-page",children:(0,d.jsxs)("div",{className:"client-action-card",children:[(0,d.jsx)("div",{className:"client-action-back",children:(0,d.jsxs)("button",{className:"btn btn-secondary",onClick:()=>e.back(),children:[(0,d.jsx)("i",{className:"fas fa-arrow-left"})," Back"]})}),(0,d.jsxs)("div",{className:"client-action-heading",children:[(0,d.jsx)("h2",{children:"Transaction Password"}),(0,d.jsxs)("p",{children:["Reset the transaction password for ",a.username]})]}),(0,d.jsxs)("form",{className:"client-action-form",onSubmit:e=>{e.preventDefault(),a&&u&&(b(!0),l.A.resetTxnPassword({userId:a._id,transactionPassword:u}).then((e=>{t.oR.success(e.data.message||"Transaction password reset successfully"),h("")})).finally((()=>b(!1))))},children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"New Transaction Password"}),(0,d.jsx)("input",{type:"password",className:"form-control",value:u,onChange:e=>h(e.target.value),placeholder:"Enter new transaction password"})]}),(0,d.jsxs)("div",{className:"client-action-footer",children:[(0,d.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>e.back(),children:"Cancel"}),(0,d.jsxs)(c.A,{type:"submit",className:"btn btn-primary",disabled:m||!u,children:[(0,d.jsx)("i",{className:"fas fa-check mr-2"})," Reset Password"]})]})]})]})})}},97758:(e,a,s)=>{s.d(a,{h:()=>c});var n=s(9950),t=s(28429),l=s(39564);const c=()=>{const{username:e}=(0,t.g)(),[a,s]=n.useState(null),[c,i]=n.useState(!0),[r,d]=n.useState(null),o=n.useCallback((()=>{if(!e)return s(null),i(!1),void d("Username missing in URL");i(!0),d(null),l.A.getParentUserDetail(e).then((e=>{var a,n;const t=null===(a=e.data)||void 0===a||null===(n=a.data)||void 0===n?void 0:n[0];s(null!==t&&void 0!==t?t:null)})).catch((()=>{s(null),d("Unable to load client details. Please try again.")})).finally((()=>i(!1)))}),[e]);return n.useEffect((()=>{o()}),[o]),{username:e,client:a,loading:c,error:r,refresh:o}}},88306:(e,a,s)=>{s.d(a,{A:()=>d});var n=s(84919),t=s(79222),l=(s(9950),s(96487)),c=s(28674),i=s(44414);const r=["children"],d=e=>{const{children:a}=e,s=(0,t.A)(e,r),d=(0,c.G)(l.Mm);return(0,i.jsx)("button",(0,n.A)((0,n.A)({disabled:d},s),{},{children:a}))}},70103:()=>{}}]);