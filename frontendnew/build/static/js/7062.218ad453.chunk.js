"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[7062],{17062:(e,a,l)=>{l.r(a),l.d(a,{default:()=>N});var s=l(84919),c=l(59051),t=l.n(c),i=l(9950),n=l(99198),r=l.n(n),o=l(28429),d=l(39402),m=l(39048),h=l(41925),x=l(34806),u=l.n(x),j=l(21755),v=l(96487),f=l(28674),p=l(2964),y=l(44414);const g=e=>{let{showDialog:a,closeModal:l,selectedMatch:c}=e;const[t,n]=i.useState({}),r=(0,f.G)(v.Mm);i.useEffect((()=>{n(c)}),[c]);const o=e=>{n((0,s.A)((0,s.A)({},t),{},{[e.target.name]:e.target.value}))};return(0,y.jsx)("div",{children:(0,y.jsx)(u(),{isOpen:a,onRequestClose:e=>{l(e,t,!0)},contentLabel:"Set Max Bet Limit",className:"modal-dialog",ariaHideApp:!1,children:(0,y.jsxs)("div",{className:"modal-content",children:[(0,y.jsxs)("div",{className:"modal-header",children:[(0,y.jsx)("h4",{className:"modal-title",children:"Set Max Bet Limit"}),(0,y.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",onClick:e=>{l(e,t,!0)},children:"\xd7"})]}),(0,y.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p.A.saveSportSettings(t).then((()=>{l(e,t)}))},children:[(0,y.jsxs)("div",{className:"row col-md-12",children:[(0,y.jsxs)("div",{className:"col-sm-6",children:[(0,y.jsx)("div",{className:"text-center m-xl-3",children:(0,y.jsx)("strong",{children:"In Play"})}),(0,y.jsxs)("div",{className:"row form-group",children:[(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsx)("label",{children:" Min Limit"})}),(0,y.jsx)("div",{className:"col-md-8",children:(0,y.jsx)("input",{type:"text",required:!0,value:t.inPlayMinLimit||"",onChange:o,name:"inPlayMinLimit",className:"form-control intr"})})]}),(0,y.jsxs)("div",{className:"row form-group",children:[(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsx)("label",{children:" Max Limit"})}),(0,y.jsx)("div",{className:"col-md-8",children:(0,y.jsx)("input",{type:"text",required:!0,value:t.inPlayMaxLimit||"",onChange:o,name:"inPlayMaxLimit",className:"form-control intr"})})]}),c.sportId===j.A.cricket&&(0,y.jsxs)(i.Fragment,{children:[(0,y.jsxs)("div",{className:"row form-group",children:[(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsx)("label",{children:"Fancy Min Limit"})}),(0,y.jsx)("div",{className:"col-md-8",children:(0,y.jsx)("input",{type:"text",required:!0,value:t.inPlayFancyMinLimit||"",onChange:o,name:"inPlayFancyMinLimit",className:"form-control intr",defaultValue:100})})]}),(0,y.jsxs)("div",{className:"row form-group",children:[(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsx)("label",{children:"Fancy Max Limit"})}),(0,y.jsx)("div",{className:"col-md-8",children:(0,y.jsx)("input",{type:"text",required:!0,value:t.inPlayFancyMaxLimit||"",onChange:o,name:"inPlayFancyMaxLimit",className:"form-control intr",defaultValue:25e3})})]})]}),(0,y.jsxs)("div",{className:"row form-group",children:[(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsx)("label",{children:"Book Min Limit"})}),(0,y.jsx)("div",{className:"col-md-8",children:(0,y.jsx)("input",{type:"text",required:!0,value:t.inPlayBookMinLimit||"",onChange:o,name:"inPlayBookMinLimit",className:"form-control intr",defaultValue:100})})]}),(0,y.jsxs)("div",{className:"row form-group",children:[(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsx)("label",{children:"Book Max Limit"})}),(0,y.jsx)("div",{className:"col-md-8",children:(0,y.jsx)("input",{type:"text",required:!0,value:t.inPlayBookMaxLimit||"",onChange:o,name:"inPlayBookMaxLimit",className:"form-control intr",defaultValue:25e3})})]})]}),(0,y.jsxs)("div",{className:"col-sm-6",children:[(0,y.jsx)("div",{className:"text-center m-xl-3",children:(0,y.jsx)("strong",{children:"Off Play"})}),(0,y.jsxs)("div",{className:"row form-group",children:[(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsx)("label",{children:" Min Limit"})}),(0,y.jsx)("div",{className:"col-md-8",children:(0,y.jsx)("input",{type:"text",required:!0,value:t.offPlayMinLimit||"",onChange:o,name:"offPlayMinLimit",className:"form-control intr"})})]}),(0,y.jsxs)("div",{className:"row form-group",children:[(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsx)("label",{children:" Max Limit"})}),(0,y.jsx)("div",{className:"col-md-8",children:(0,y.jsx)("input",{type:"text",required:!0,value:t.offPlayMaxLimit||"",onChange:o,name:"offPlayMaxLimit",className:"form-control intr"})})]}),c.sportId===j.A.cricket&&(0,y.jsxs)(i.Fragment,{children:[(0,y.jsxs)("div",{className:"row form-group",children:[(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsx)("label",{children:"Fancy Min Limit"})}),(0,y.jsx)("div",{className:"col-md-8",children:(0,y.jsx)("input",{type:"text",required:!0,value:t.offPlayFancyMinLimit||"",onChange:o,name:"offPlayFancyMinLimit",className:"form-control intr",defaultValue:100})})]}),(0,y.jsxs)("div",{className:"row form-group",children:[(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsx)("label",{children:"Fancy Max Limit"})}),(0,y.jsx)("div",{className:"col-md-8",children:(0,y.jsx)("input",{type:"text",required:!0,value:t.offPlayFancyMaxLimit||"",onChange:o,name:"offPlayFancyMaxLimit",className:"form-control intr",defaultValue:1})})]})]}),(0,y.jsxs)("div",{className:"row form-group",children:[(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsx)("label",{children:"Book Min Limit"})}),(0,y.jsx)("div",{className:"col-md-8",children:(0,y.jsx)("input",{type:"text",required:!0,value:t.offPlayBookMinLimit||"",onChange:o,name:"offPlayBookMinLimit",className:"form-control intr",defaultValue:100})})]}),(0,y.jsxs)("div",{className:"row form-group",children:[(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsx)("label",{children:"Book Max Limit"})}),(0,y.jsx)("div",{className:"col-md-8",children:(0,y.jsx)("input",{type:"text",required:!0,value:t.offPlayBookMaxLimit||"",onChange:o,name:"offPlayBookMaxLimit",className:"form-control intr",defaultValue:1})})]})]})]}),(0,y.jsxs)("div",{className:"modal-footer",children:[(0,y.jsxs)("button",{disabled:r,type:"button",className:"btn btn-info","data-dismiss":"modal",onClick:e=>{l(e)},children:[(0,y.jsx)("i",{className:"fas fa-undo-alt"})," No"]}),(0,y.jsxs)("button",{disabled:r,type:"submit",className:"btn btn-primary",children:[(0,y.jsx)("i",{className:"fas fa-paper-plane"})," Yes"]})]})]})]})})})},N=()=>{const[e,a]=i.useState({}),[l,c]=i.useState(!1),[n,x]=i.useState({}),[u,j]=i.useState(1),{sportId:v,matchType:f}=(0,o.g)(),[p,N]=i.useState("");i.useEffect((()=>{b(1),j(1)}),[v,f]);const b=e=>{const l=void 0===f?"0":f;m.A.getActiveMatches(v,l,p,e).then((l=>{a(l.data.data),j(e)}))},M=(s,t,i)=>{if(s.preventDefault(),t&&x(t),c(!l),i){const l=[...e.docs],s=l.findIndex((e=>e._id===(null===t||void 0===t?void 0:t._id)));l[s]=t,a({docs:l})}};return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"container-fluid",children:(0,y.jsxs)("div",{className:"row justify-content-md-center",children:[(0,y.jsxs)("div",{className:"col-md-4 p-2",children:[(0,y.jsx)("label",{children:"\xa0"}),(0,y.jsx)("ul",{role:"tablist",className:"nav nav-tabs fancy-group","aria-label":"Tabs",children:(()=>{const e=void 0===f?"":f;return[{type:"",label:"Current Match"},{type:"1",label:"Completed Match"},{type:"2",label:"Deleted Match"}].map((a=>(0,y.jsx)("li",{onClick:()=>{console.log("cliedddd"),j(1)},className:"nav-item",children:(0,y.jsx)(d.A,{to:"/active-matches/".concat(v,"/").concat(a.type),className:"nav-link ".concat(e===a.type?"active":""),children:(0,y.jsx)("span",{style:{textTransform:"uppercase"},children:a.label})})},a.type)))})()})]}),(0,y.jsxs)("div",{className:"form-group col-md-4",children:[(0,y.jsx)("label",{htmlFor:"SearchByMatch",children:"Search By Match"}),(0,y.jsx)("input",{type:"text",className:"form-control",id:"SearchByMatch",placeholder:"Search By Match",onChange:e=>N(e.target.value)})]}),(0,y.jsxs)("div",{className:"col-md-2",children:[(0,y.jsx)("label",{children:"\xa0"}),(0,y.jsx)("button",{className:"btn btn-primary btn-block",onClick:()=>{b(1),j(1)},children:"Search"})]}),(0,y.jsx)("div",{className:"col-md-12 main-container",children:(0,y.jsxs)("table",{className:"table table-bordered",children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:"In Play"}),(0,y.jsx)("th",{children:"Game"}),(0,y.jsx)("th",{children:"Status"}),(0,y.jsx)("th",{children:"Action"}),(0,y.jsx)("th",{children:"Bet Limit"}),(0,y.jsx)("th",{children:"Manage Fancy"}),(0,y.jsx)("th",{children:"Rollback"})]})}),(0,y.jsx)("tbody",{children:Object.keys(e).length>0&&e.docs.map((l=>(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:(0,y.jsx)("i",{className:"fas fa-circle ".concat(l.active?"text-success":"text-danger"," fa-lg mr-2")})}),(0,y.jsxs)("td",{children:[(0,y.jsxs)(d.A,{to:"/active-markets/".concat(l.matchId),children:[l.name," "]}),(0,y.jsx)("span",{children:t()(l.matchDateTime).format(h.i$)})]}),(0,y.jsx)("td",{children:l.active?"Active":"In-Active"}),(0,y.jsx)("td",{children:(0,y.jsxs)("div",{children:[(0,y.jsxs)("a",{href:"#",onClick:c=>((l,c)=>{l.preventDefault(),m.A.changeStatusMatch(c.matchId).then((l=>{const t=[...e.docs],i=t.findIndex((e=>e.matchId===c.matchId));t[i].active=!c.active,a((0,s.A)((0,s.A)({},e),{},{docs:t}))}))})(c,l),children:["Click To ",l.active?"In-Active":"Active"]}),(0,y.jsx)("br",{}),(0,y.jsxs)("a",{href:"#",onClick:c=>((l,c)=>{l.preventDefault(),m.A.deleteMatch(c.matchId).then((l=>{const t=[...e.docs].filter((e=>e.matchId!==c.matchId));a((0,s.A)((0,s.A)({},e),{},{docs:t}))}))})(c,l),children:["Click To ",l.isDelete?"Undo":"Delete"]})]})}),(0,y.jsx)("td",{children:(0,y.jsx)("a",{href:"#",onClick:e=>M(e,l),children:"Maximum Bet Limit"})}),(0,y.jsx)("td",{children:(0,y.jsx)(d.A,{to:"/active-fancies/".concat(l.matchId),children:"Manage Fancy"})}),(0,y.jsx)("td",{children:l.result&&(0,y.jsx)("a",{href:"#",onClick:e=>((e,a)=>{e.preventDefault(),m.A.rollbackResultMarket(a.matchId).then((()=>{b(u)}))})(e,l),children:"Rollback Result"})})]},l.matchId)))})]})}),(0,y.jsx)(r(),{breakLabel:"...",nextLabel:">>",forcePage:u-1,onPageChange:e=>{b(e.selected+1)},pageRangeDisplayed:5,pageCount:e.totalPages,containerClassName:"pagination",activeClassName:"active",previousLabel:"<<",breakClassName:"break-me"}),(0,y.jsx)(g,{showDialog:l,selectedMatch:n,closeModal:(e,a)=>{M(e,a,!0)}})]})})})}},21755:(e,a,l)=>{l.d(a,{A:()=>s,_:()=>c});let s=function(e){return e[e.soccer=1]="soccer",e[e.tennis=2]="tennis",e[e.cricket=4]="cricket",e[e.horseRacing=7]="horseRacing",e[e.greyhoundRacing=4339]="greyhoundRacing",e[e.casino=5e3]="casino",e}({});const c={1:"Soccer",2:"Tennis",4:"Cricket",7:"Horse Racing",4339:"Greyhound Racing",5e3:"Casino"}},39048:(e,a,l)=>{l.d(a,{A:()=>c});var s=l(44933);const c=new class{getActiveMatches(e,a,l,c){return s.Ay.get("active-matches?sportId=".concat(e,"&type=").concat(a,"&page=").concat(c,"&search=").concat(l))}changeStatusMatch(e){return s.Ay.get("change-status-match?matchId=".concat(e))}deleteMatch(e){return s.Ay.get("delete-match?matchId=".concat(e))}rollbackResultMarket(e){return s.Ay.get("rollback-result-market?matchId=".concat(e))}getMatchListSuggestion(e){return s.Ay.post("get-match-list-suggestion",e)}}},41925:(e,a,l)=>{l.d(a,{LL:()=>r,O:()=>n,YG:()=>i,bi:()=>t,i$:()=>c,rx:()=>s});l(41377);const s=(e,a)=>{const l=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].slice().reverse().find((a=>e>=a.value));return l?(e/l.value).toFixed(a).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+l.symbol:"0"},c="MMMM Do YYYY, h:mm A",t="MMMM Do, h:mm:ss A",i=e=>{const a={K:13,Q:12,A:1,J:11},l=e.match(/[A-Z]+/g);let s=0;l&&l.forEach((e=>{for(let l=0;l<e.length;l++){const c=a[e[l]];c&&(s+=c)}}));const c=e.match(/\d+/g);if(c){const e=c.reduce(((e,a)=>e+parseInt(a)),0);s+=e}return s},n=e=>e.replace("DD","").replace("CC","").replace("HH","").replace("SS",""),r=e=>e.replace("DD","").replace("CC","").replace("HH","").replace("SS","").replace("1","").replace("A","1").replace("K","wicket")}}]);