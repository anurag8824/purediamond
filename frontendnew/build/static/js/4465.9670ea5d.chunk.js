"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[4465],{24465:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});a(84919);var s=a(59051),l=a.n(s),n=a(9950),c=a(99198),r=a.n(c),d=a(27232),i=a(4446),o=a(41925),h=(a(39564),a(18538)),u=a(34806),x=a.n(u),m=a(2318),p=a(28674),j=a(96487),v=a(12995),g=a(44414);const N=()=>{const e=(0,p.G)(j.Mm),[t,a]=n.useState({}),[s,c]=n.useState([]),[u,N]=n.useState(0),[b,f]=n.useState([]),[y,A]=n.useState(0),[C]=n.useState(50),[D,w]=n.useState(0),[S,k]=n.useState(!1),[M,L]=n.useState({}),[T,Y]=n.useState({}),[E,P]=n.useState(0),[B,O]=n.useState({startDate:"",endDate:"",reportType:"All",userId:""}),[F,_]=n.useState(1),[I,R]=n.useState(1);n.useEffect((()=>{const e=y+C;f(s.slice(y,e)),w(Math.ceil(s.length/C))}),[y,C,s]);n.useEffect((()=>{const e=B;e.startDate=l()().subtract(7,"days").format("YYYY-MM-DD"),e.endDate=l()().format("YYYY-MM-DD"),O(e)}),[]);const H=e=>{i.A.getAccountList(e,B).then((t=>{var s,n,r,d,i,h,u,x,m,p,j;null!==t&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.data&&a((null===t||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.items)||[]),null!==t&&void 0!==t&&null!==(d=t.data)&&void 0!==d&&null!==(i=d.data)&&void 0!==i&&i.items&&0==e&&P((null===t||void 0===t||null===(h=t.data)||void 0===h||null===(u=h.data)||void 0===u?void 0:u.openingBalance)||0),c(((e,t)=>{const a=[];return e&&e.map(((e,s)=>{t+=e.amount,a.push({_id:e._id,sr_no:s+1,date:l()(e.createdAt).format(o.i$),credit:e.amount,debit:e.amount,closing:t.toFixed(2),narration:e.narration,type:e.type,stmt:e})})),a})((null===t||void 0===t||null===(x=t.data)||void 0===x||null===(m=x.data)||void 0===m?void 0:m.items)||[],(null===t||void 0===t||null===(p=t.data)||void 0===p||null===(j=p.data)||void 0===j?void 0:j.openingBalance)||0)),_(e)})).catch((e=>{console.log(e),d.oR.error("error")}))},$=e=>{const t=B;t[e.target.name]=e.target.value,O(t)};n.useEffect((()=>{S&&G(T,I)}),[T,I,S]);const G=(e,t)=>{var a;const s=null===e||void 0===e||null===(a=e.allBets)||void 0===a?void 0:a.map((e=>{let{betId:t}=e;return t}));s&&s.length>0&&h.A.getBetListByIds(s,t).then((e=>{k(!0),L(e.data.data),R(t)}))},U=(e,t)=>{e.preventDefault(),L({}),Y(t),R(1),k(!0)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.A,{}),(0,g.jsxs)("div",{style:{paddingTop:"20px"},children:[(0,g.jsx)("div",{className:"container-fluid account-statement-page",children:(0,g.jsx)("div",{className:"row",children:(0,g.jsxs)("div",{className:"col-md-12",children:[(0,g.jsx)("div",{className:"account-statement-filters",children:(0,g.jsx)("form",{onSubmit:e=>{e.preventDefault(),H(1)},children:(0,g.jsxs)("div",{className:"account-statement-filters-row",children:[(0,g.jsxs)("div",{className:"account-statement-filter-group",children:[(0,g.jsx)("label",{children:"Sport"}),(0,g.jsx)("select",{name:"sport",onChange:$,children:(0,g.jsx)("option",{value:"All",children:"All"})})]}),(0,g.jsxs)("div",{className:"account-statement-filter-group",children:[(0,g.jsx)("label",{children:"Type"}),(0,g.jsxs)("select",{name:"reportType",onChange:$,children:[(0,g.jsx)("option",{value:"ALL",children:"All"}),(0,g.jsx)("option",{value:"chip",children:"Deposit/Withdraw"}),(0,g.jsx)("option",{value:"game",children:"Game Report"})]})]}),(0,g.jsxs)("div",{className:"account-statement-filter-group",children:[(0,g.jsx)("label",{children:"Start Date"}),(0,g.jsx)("input",{name:"startDate",type:"date",autoComplete:"off",onChange:$,defaultValue:B.startDate})]}),(0,g.jsxs)("div",{className:"account-statement-filter-group",children:[(0,g.jsx)("label",{children:"End Date"}),(0,g.jsx)("input",{name:"endDate",type:"date",autoComplete:"off",defaultValue:B.endDate,onChange:$})]}),(0,g.jsx)("button",{type:"submit",className:"account-statement-search-btn",children:"Search"})]})})}),(0,g.jsx)("div",{className:"account-statement-table-wrapper",children:(0,g.jsxs)("table",{className:"account-statement-table",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"NO"}),(0,g.jsx)("th",{children:"DATE"}),(0,g.jsx)("th",{children:"DESC"}),(0,g.jsx)("th",{children:"COMM IN"}),(0,g.jsx)("th",{children:"COMM OUT"}),(0,g.jsx)("th",{children:"AMOUNT"}),(0,g.jsx)("th",{children:"TOTAL"}),(0,g.jsx)("th",{children:"D/C"}),(0,g.jsx)("th",{children:"BALANCE"}),(0,g.jsx)("th",{children:"DETAILS"})]})}),(0,g.jsxs)("tbody",{children:[s.length<=0&&(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:10,className:"account-statement-empty",children:"Please select date"})}),s.length>0&&0==F&&(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:"-"}),(0,g.jsx)("td",{children:l()(s[0].createdAt).format(o.i$)}),(0,g.jsx)("td",{children:"Opening Balance"}),(0,g.jsx)("td",{children:"-"}),(0,g.jsx)("td",{children:"-"}),(0,g.jsx)("td",{children:"-"}),(0,g.jsx)("td",{children:"-"}),(0,g.jsx)("td",{children:"-"}),(0,g.jsx)("td",{children:E}),(0,g.jsx)("td",{children:"-"})]},s[0]._id),b&&b.map(((e,t)=>{var a;return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:e.sr_no}),(0,g.jsx)("td",{children:e.date}),(0,g.jsx)("td",{children:e.narration}),(0,g.jsx)("td",{children:"-"}),(0,g.jsx)("td",{children:"-"}),(0,g.jsx)("td",{className:e.credit>=0?"credit":"debit",children:null===(a=e.credit)||void 0===a?void 0:a.toFixed(2)}),(0,g.jsx)("td",{children:"-"}),(0,g.jsx)("td",{children:e.credit>=0?"C":"D"}),(0,g.jsx)("td",{children:e.closing}),(0,g.jsx)("td",{children:(0,g.jsx)("span",{className:"pnl"==e.type?"remark-link":"",onClick:t=>"pnl"==e.type&&U(t,e.stmt),children:"pnl"==e.type?"View":"-"})})]},"".concat(e._id).concat(t))}))]})]})}),(0,g.jsx)(r(),{breakLabel:"...",nextLabel:">>",onPageChange:e=>{const t=e.selected*C%s.length;A(t),_(e.selected)},pageRangeDisplayed:5,pageCount:D,containerClassName:"pagination",activeClassName:"active",previousLabel:"<<",breakClassName:"break-me"})]})})}),(0,g.jsx)(x(),{isOpen:S,onAfterClose:()=>k(!1),onRequestClose:e=>{k(!1)},contentLabel:"Set Max Bet Limit",className:"col-md-12",ariaHideApp:!1,children:(0,g.jsxs)("div",{className:"modal-content",children:[(0,g.jsxs)("div",{className:"modal-header",children:[(0,g.jsx)("h5",{children:"Bets"}),(0,g.jsx)("button",{onClick:()=>k(!1),className:"close float-right",children:(0,g.jsx)("i",{className:"fa fa-times-circle"})})]}),(0,g.jsx)("div",{className:"modal-body",children:!e&&(0,g.jsx)(m.A,{bethistory:M,handlePageClick:e=>{G(T,e.selected+1)},page:F,isTrash:!1})})]})})]})]})}},2318:(e,t,a)=>{a.d(t,{A:()=>x});var s=a(59051),l=a.n(s),n=a(99198),c=a.n(n),r=a(94635),d=a(80387),i=a(28674),o=a(54088),h=(a(74064),a(44414));const u=e=>{var t;return""!=e?(null===(t=o.a.SPORT_NAME.filter((t=>t.id==e))[0])||void 0===t?void 0:t.name)||"Casino":""},x=e=>{var t;let{bethistory:a,onTrash:s,handlePageClick:n,isTrash:o,handleSelectAll:x,selectAll:m,handleSelectItem:p}=e;const j=(0,i.G)(d.Qg),v=a&&a.docs&&a.docs.length?a.docs.map(((e,t)=>((e,t)=>{var a,n,c,d;const i=e.isBack?"back":"lay";return(0,h.jsxs)("tr",{className:i,children:[x&&(0,h.jsx)("td",{children:(0,h.jsx)("input",{type:"checkbox",checked:e.selected||!1,onChange:()=>null===p||void 0===p?void 0:p(e)})}),(null===j||void 0===j||null===(a=j.user)||void 0===a?void 0:a.role)!==r.T.user&&(0,h.jsx)("td",{className:"text-center wnwrap",children:e.parentNameStr}),(0,h.jsx)("td",{className:"text-center wnwrap",children:e.userName}),(0,h.jsx)("td",{className:"text-center wnwrap",children:e.matchName}),(0,h.jsxs)("td",{className:"text-center wnwrap",children:[e.selectionName," /"," ","Fancy"===e.marketName&&"fancy1"!==e.gtype?e.volume:e.odds," "]}),(0,h.jsx)("td",{className:"text-center wnwrap",children:u(e.sportId)}),(0,h.jsx)("td",{className:"text-center wnwrap",children:e.marketName}),(0,h.jsx)("td",{className:"text-center wnwrap",children:e.odds}),(0,h.jsx)("td",{className:"text-center wnwrap",children:e.stack}),(0,h.jsx)("td",{className:"text-center wnwrap",children:"completed"==e.status?null===e||void 0===e||null===(n=e.profitLoss)||void 0===n?void 0:n.toFixed(2):null===(c=e.pnl)||void 0===c?void 0:c.toFixed(2)}),(0,h.jsx)("td",{className:"text-center wnwrap",children:e.createdAt&&l()(null===e||void 0===e?void 0:e.createdAt).format("YYYY-MM-DD HH:mm:ss")}),o&&(0,h.jsx)("td",{className:"text-center wnwrap",children:"pending"==e.status&&(null===j||void 0===j||null===(d=j.user)||void 0===d?void 0:d.role)===r.T.admin&&(0,h.jsx)("a",{onClick:t=>s&&s(t,e),href:"#",children:(0,h.jsx)("i",{className:"fa fa-trash"})})})]},t)})(e,t))):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:11,style:{textAlign:"center"},children:"No Result Found"})});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("table",{className:"report-table",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[x&&(0,h.jsx)("th",{children:(0,h.jsx)("input",{type:"checkbox",className:"report-checkbox",checked:m||!1,onChange:x})}),(null===j||void 0===j||null===(t=j.user)||void 0===t?void 0:t.role)!==r.T.user&&(0,h.jsx)("th",{children:"Uplevel"}),(0,h.jsx)("th",{children:"User Name"}),(0,h.jsx)("th",{children:"Event Name"}),(0,h.jsx)("th",{children:"Nation"}),(0,h.jsx)("th",{children:"Event Type"}),(0,h.jsx)("th",{children:"Type"}),(0,h.jsx)("th",{children:"Rate"}),(0,h.jsx)("th",{children:"Amount"}),(0,h.jsx)("th",{children:"P/L"}),(0,h.jsx)("th",{children:"Place Date"}),o&&(0,h.jsx)("th",{children:"Action"})]})}),(0,h.jsx)("tbody",{children:v})]}),(0,h.jsx)(c(),{breakLabel:"...",nextLabel:">>",onPageChange:n,pageRangeDisplayed:5,pageCount:a.totalPages||0,containerClassName:"pagination",activeClassName:"active",previousLabel:"<<",breakClassName:"break-me"})]})}},12995:(e,t,a)=>{a.d(t,{A:()=>l});a(9950);var s=a(44414);const l=()=>{const e="\ud83c\udfcf \ud835\udc13\ud835\udc07\ud835\udc04 \ud835\udc00\ud835\udc12\ud835\udc07\ud835\udc04\ud835\udc12 \ud835\udc12\ud835\udc0f\ud835\udc04\ud835\udc02\ud835\udc08\ud835\udc00\ud835\udc0b \ud835\udc04\ud835\udc15\ud835\udc04\ud835\udc0d\ud835\udc13 \ud835\udc01\ud835\udc04\ud835\udc13\ud835\udc12 \ud835\udc12\ud835\udc13\ud835\udc00\ud835\udc11\ud835\udc13\ud835\udc04\ud835\udc03 \ud83c\udfc6 \ud835\udc16\ud835\udc01\ud835\udc01\ud835\udc0b \ud835\udfd0\ud835\udfce\ud835\udfd0\ud835\udfd3 \ud83c\udfc6 \ud835\udc12\ud835\udc0f\ud835\udc04\ud835\udc02\ud835\udc08\ud835\udc00\ud835\udc0b \ud835\udc05\ud835\udc00\ud835\udc0d\ud835\udc02\ud835\udc18 & \ud835\udc02\ud835\udc14\ud835\udc0f \ud835\udc16\ud835\udc08\ud835\udc0d\ud835\udc0d\ud835\udc04\ud835\udc11 \ud835\udc01\ud835\udc04\ud835\udc13\ud835\udc12 \ud835\udc12\ud835\udc13\ud835\udc00\ud835\udc11\ud835\udc13\ud835\udc04\ud835\udc03 \ud83c\udfcf \ud835\udc0f\ud835\udc0b\ud835\udc00\ud835\udc18 \ud835\udc13\ud835\udc07\ud835\udc04 \ud835\udc06\ud835\udc04\ud835\udc0d\ud835\udc08\ud835\udc04 \ud835\udc02\ud835\udc0e\ud835\udc0c\ud835\udc01\ud835\udc0e \ud835\udc12\ud835\udc0f\ud835\udc04\ud835\udc02\ud835\udc08\ud835\udc00\ud835\udc0b \ud835\udc01\ud835\udc04\ud835\udc13 \ud835\udc08\ud835\udc0d \ud835\udc0e\ud835\udc14\ud835\udc11 \ud835\udc04\ud835\udc17\ud835\udc02\ud835\udc07\ud835\udc00\ud835\udc0d\ud835\udc06\ud835\udc04 \ud835\udc00\ud835\udc0d\ud835\udc03 \ud835\udc0c\ud835\udc14\ud835\udc0b\ud835\udc13\ud835\udc08\ud835\udc0f\ud835\udc0b\ud835\udc18 \ud835\udc18\ud835\udc0e\ud835\udc14\ud835\udc11 \ud835\udc16\ud835\udc08\ud835\udc0d\ud835\udc0d\ud835\udc08\ud835\udc0d\ud835\udc06\ud835\udc12";return(0,s.jsx)("div",{className:"marquee-announcement",children:(0,s.jsxs)("div",{className:"marquee-content",children:[(0,s.jsx)("span",{children:e}),(0,s.jsx)("span",{children:e})]})})}},4446:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(44933);const l=new class{getAccountList(e,t){return s.Ay.post("account-statement-list?page=".concat(e),t)}getProfitLoss(e,t){return s.Ay.post("profit-loss?page=".concat(e),t)}}},41925:(e,t,a)=>{a.d(t,{LL:()=>d,O:()=>r,YG:()=>c,bi:()=>n,i$:()=>l,rx:()=>s});a(41377);const s=(e,t)=>{const a=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].slice().reverse().find((t=>e>=t.value));return a?(e/a.value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+a.symbol:"0"},l="MMMM Do YYYY, h:mm A",n="MMMM Do, h:mm:ss A",c=e=>{const t={K:13,Q:12,A:1,J:11},a=e.match(/[A-Z]+/g);let s=0;a&&a.forEach((e=>{for(let a=0;a<e.length;a++){const l=t[e[a]];l&&(s+=l)}}));const l=e.match(/\d+/g);if(l){const e=l.reduce(((e,t)=>e+parseInt(t)),0);s+=e}return s},r=e=>e.replace("DD","").replace("CC","").replace("HH","").replace("SS",""),d=e=>e.replace("DD","").replace("CC","").replace("HH","").replace("SS","").replace("1","").replace("A","1").replace("K","wicket")}}]);